\hypertarget{_user_session_8php}{\section{User\-Session.\-php}
\label{_user_session_8php}\index{User\-Session.\-php@{User\-Session.\-php}}
}

\begin{DoxyCode}
00001 <?php
00002 \textcolor{keyword}{namespace }Controller;
00003 \textcolor{comment}{}
00004 \textcolor{comment}{/**}
00005 \textcolor{comment}{ * }
00006 \textcolor{comment}{ * Login Controller}
00007 \textcolor{comment}{ * }
00008 \textcolor{comment}{ * }
00009 \textcolor{comment}{ */}
\hypertarget{_user_session_8php_source_l00010}{}\hyperlink{class_controller_1_1_user_session}{00010} \textcolor{keyword}{class }\hyperlink{class_controller_1_1_user_session}{UserSession} \{
00011         
00012         \textcolor{comment}{}
00013 \textcolor{comment}{        /**}
00014 \textcolor{comment}{         * }
00015 \textcolor{comment}{         * Login Formular anzeigen}
00016 \textcolor{comment}{         * }
00017 \textcolor{comment}{         */}
\hypertarget{_user_session_8php_source_l00018}{}\hyperlink{class_controller_1_1_user_session_a3ab4801a36620e4a99cf3066970ebaf4}{00018}         \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{class_controller_1_1_user_session_a3ab4801a36620e4a99cf3066970ebaf4}{Login\_Action}() \{
00019 
00020                 $view = new \(\backslash\)View();
00021                 $view->setTemplate(\textcolor{stringliteral}{'login'});
00022                 $view->display();
00023 
00024                 
00025         \}
00026         \textcolor{comment}{}
00027 \textcolor{comment}{        /**}
00028 \textcolor{comment}{         * }
00029 \textcolor{comment}{         * Verarbeitung der Logindaten}
00030 \textcolor{comment}{         * }
00031 \textcolor{comment}{         */}
\hypertarget{_user_session_8php_source_l00032}{}\hyperlink{class_controller_1_1_user_session_a0b902f49ccbff4387dcf5655874cbb1c}{00032}         \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{class_controller_1_1_user_session_a0b902f49ccbff4387dcf5655874cbb1c}{Login\_POST\_Action}() \{
00033                 
00034                 $user = $\_GET[\textcolor{stringliteral}{'user'}];
00035                 $pass = $\_GET[\textcolor{stringliteral}{'pass'}];
00036                 
00037                 $model = new \(\backslash\)Model\(\backslash\)User();
00038                         
00039                 \textcolor{keywordflow}{if} ($model->checkCredentials($user, $pass)) \{
00040 
00041                         \hyperlink{class_session_ab5ee063ee1dd4a5026c1b87caf98c9a0}{\(\backslash\)Session::authUser}();
00042                         \hyperlink{class_redirect_a5a8f456a5318387c966b24c0cbe2c083}{\(\backslash\)Redirect::toController}(\textcolor{stringliteral}{"Index"});
00043 
00044                 \} \textcolor{keywordflow}{else} \{
00045                 
00046                         $this->Login\_Action();                  
00047                         
00048                 \}
00049 
00050                 
00051         \}
00052         \textcolor{comment}{}
00053 \textcolor{comment}{        /**}
00054 \textcolor{comment}{         * }
00055 \textcolor{comment}{         * Logout Action}
00056 \textcolor{comment}{         * }
00057 \textcolor{comment}{         */}
\hypertarget{_user_session_8php_source_l00058}{}\hyperlink{class_controller_1_1_user_session_a2078537fe028f203be44fdfe2b3c0036}{00058}         \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{class_controller_1_1_user_session_a2078537fe028f203be44fdfe2b3c0036}{Logout\_Action}() \{
00059 
00060                 \hyperlink{class_session_a5dde74b6fa44649e5b73cb1096930dd4}{\(\backslash\)Session::destroy}();
00061                 \hyperlink{class_redirect_a5a8f456a5318387c966b24c0cbe2c083}{\(\backslash\)Redirect::toController}(\textcolor{stringliteral}{"Index"});
00062                 
00063         \}
00064                 
00065 \}
00066 
00067 
00068 ?>
\end{DoxyCode}
