\hypertarget{_user_session_8php}{\section{User\-Session.\-php}
\label{_user_session_8php}\index{User\-Session.\-php@{User\-Session.\-php}}
}

\begin{DoxyCode}
00001 <?php
00002 \textcolor{keyword}{namespace }Controller;
00003 
00004 use \(\backslash\)CustomException as Ex;
00005 \textcolor{comment}{}
00006 \textcolor{comment}{/**}
00007 \textcolor{comment}{ * }
00008 \textcolor{comment}{ * Login Controller}
00009 \textcolor{comment}{ * }
00010 \textcolor{comment}{ * }
00011 \textcolor{comment}{ */}
\hypertarget{_user_session_8php_source_l00012}{}\hyperlink{class_controller_1_1_user_session}{00012} \textcolor{keyword}{class }\hyperlink{class_controller_1_1_user_session}{UserSession} \{
00013         
00014         \textcolor{comment}{}
00015 \textcolor{comment}{        /**}
00016 \textcolor{comment}{         * }
00017 \textcolor{comment}{         * Verarbeitung der Logindaten}
00018 \textcolor{comment}{         * }
00019 \textcolor{comment}{         */}
\hypertarget{_user_session_8php_source_l00020}{}\hyperlink{class_controller_1_1_user_session_a0b902f49ccbff4387dcf5655874cbb1c}{00020}         \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{class_controller_1_1_user_session_a0b902f49ccbff4387dcf5655874cbb1c}{Login\_POST\_Action}() \{
00021                 
00022                 $user = $\_POST[\textcolor{stringliteral}{'user'}];
00023                 $pass = $\_POST[\textcolor{stringliteral}{'pass'}];
00024                 
00025                 $model = new \(\backslash\)Model\(\backslash\)User();
00026                         
00027                 \textcolor{keywordflow}{if} ($model->checkCredentials($user, $pass)) \{
00028 
00029                         \hyperlink{class_session_ab5ee063ee1dd4a5026c1b87caf98c9a0}{\(\backslash\)Session::authUser}();
00030                         \hyperlink{class_redirect_a5a8f456a5318387c966b24c0cbe2c083}{\(\backslash\)Redirect::toController}(\textcolor{stringliteral}{"Index"});
00031 
00032                 \} \textcolor{keywordflow}{else} \{
00033                 
00034                         \textcolor{keywordflow}{throw} \textcolor{keyword}{new} \hyperlink{class_custom_exception_1_1_invalid_user_pass_exception}{Ex\(\backslash\)InvalidUserPassException}();
00035                         
00036                 \}
00037 
00038                 
00039         \}
00040         \textcolor{comment}{}
00041 \textcolor{comment}{        /**}
00042 \textcolor{comment}{         * }
00043 \textcolor{comment}{         * Logout Action}
00044 \textcolor{comment}{         * }
00045 \textcolor{comment}{         */}
\hypertarget{_user_session_8php_source_l00046}{}\hyperlink{class_controller_1_1_user_session_a2078537fe028f203be44fdfe2b3c0036}{00046}         \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{class_controller_1_1_user_session_a2078537fe028f203be44fdfe2b3c0036}{Logout\_Action}() \{
00047 
00048                 \hyperlink{class_session_a5dde74b6fa44649e5b73cb1096930dd4}{\(\backslash\)Session::destroy}();
00049                 \hyperlink{class_redirect_a5a8f456a5318387c966b24c0cbe2c083}{\(\backslash\)Redirect::toController}(\textcolor{stringliteral}{"Index"});
00050                 
00051         \}
00052                 
00053 \}
00054 
00055 
00056 ?>
\end{DoxyCode}
